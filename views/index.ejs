<% include partials/header %>

<div class="container">

	<h1>Address Book</h1>


	<h2>Groups</h2>
	<a href="/group/new">Add new Group</a>

	<table class="table">
		<thead>
			<tr>
				<td>Name</td>
				<td>Options</td>
			</tr>
		</thead>
		<tbody>
		<% groups.forEach(group => { %>
			<tr>
				<td><%=group.name%></td>
				<td>
					<a href="/group/<%=group._id%>/edit">Edit</a>
					<form action="/group/<%=group._id%>?_method=DELETE&deleteMembers=false" method="POST">
						<button class="btn btn-link">
							Delete Group (not members)
						</button>
					</form>
					<form action="/group/<%=group._id%>?_method=DELETE&deleteMembers=true" method="POST">
						<button class="btn btn-link">
							Delete Group (and members)
						</button>
					</form>
				</td>
			</tr>
		<% }) %>
		</tbody>
	</table>

	<h2>People</h2>
	<a href="/people/new">Add new Person</a>
	<table class="table">
		<thead>
			<tr>
				<th>Name</th>
				<th>Age</th>
				<th>Options</th>
			</tr>
		</thead>
		<tbody>
			<% people.forEach(person => { %>
				<tr>
					<td><%= person.firstName %> <%= person.lastName%></td>
					<td><%= person.age %></td>
					<td>
						<a href="/people/<%= person._id%>">Show</a>
						<a href="/people/<%= person._id %>/edit">Edit</a>
						<form action="/people/<%=person._id%>?_method=DELETE" method="POST">
							<button class="btn btn-link">Delete</button>
						</form>
					</td>
				</tr>
			<% }) %>
		</tbody>
	</table>

</div>

<% include partials/footer %>